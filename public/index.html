<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>2025 ë””ìì¸-ê¸°ìˆ  í˜‘ì—… ì „ì£¼ê¸°ì§€ì›</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      color: #ffffff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      width: 100%;
      text-align: center;
    }
    
    .header {
      margin-bottom: 60px;
      animation: fadeInDown 0.8s ease-out;
    }
    
    .logo {
      width: 90px;
      height: 90px;
      margin: 0 auto 25px;
      background: linear-gradient(135deg, #DC2626, #EF4444);
      border-radius: 26px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 20px 60px rgba(220, 38, 38, 0.4);
      animation: pulse 2s ease-in-out infinite;
    }
    
    .logo-icon {
      font-size: 45px;
    }
    
    h1 {
      font-size: 38px;
      font-weight: 700;
      margin-bottom: 15px;
      background: linear-gradient(135deg, #DC2626, #ffffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      font-size: 19px;
      color: #a0a0a0;
      font-weight: 400;
      line-height: 1.6;
    }
    
    .notice-section {
      margin-top: 40px;
      padding: 30px;
      border-radius: 20px;
      border: 1px solid #2a2a2a;
      background: rgba(255, 255, 255, 0.02);
      text-align: left;
      animation: fadeIn 0.8s ease-out 0.1s both;
    }
    
    .notice-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 20px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }
    
    .notice-tag {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(220, 38, 38, 0.15);
      color: #F87171;
      font-size: 13px;
      font-weight: 600;
    }
    
    .notice-grid {
      display: grid;
      grid-template-columns: 1.4fr 0.8fr;
      gap: 25px;
    }
    
    .notice-card {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid #2a2a2a;
      border-radius: 16px;
      padding: 20px 24px;
    }
    
    .notice-card h3 {
      font-size: 16px;
      color: #FECACA;
      margin-bottom: 14px;
      letter-spacing: -0.01em;
    }
    
    .notice-list {
      list-style: none;
      color: #d4d4d4;
      font-size: 15px;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .notice-list li::before {
      content: "â€¢";
      color: #F87171;
      margin-right: 8px;
    }
    
    .notice-emphasis {
      color: #ffffff;
      font-weight: 600;
    }
    
    .notice-example {
      display: inline-flex;
      padding: 6px 12px;
      background: rgba(248, 113, 113, 0.15);
      border-radius: 8px;
      color: #ffffff;
      font-size: 14px;
    }
    
    .notice-account {
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 16px;
      color: #ffffff;
    }
    
    .notice-account strong {
      font-size: 20px;
      letter-spacing: 0.04em;
    }
    
    .notice-account small {
      font-size: 14px;
      color: #a0a0a0;
    }
    
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 50px;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    
    .card {
      background: #1a1a1a;
      border: 2px solid #2a2a2a;
      border-radius: 20px;
      padding: 40px 30px;
      transition: all 0.3s ease;
      text-decoration: none;
      display: block;
    }
    
    .card:hover {
      border-color: #DC2626;
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(220, 38, 38, 0.3);
    }
    
    .card-icon {
      font-size: 60px;
      margin-bottom: 20px;
    }
    
    .card-title {
      font-size: 26px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 10px;
    }
    
    .card-desc {
      font-size: 15px;
      color: #a0a0a0;
      line-height: 1.5;
    }
    
    .footer {
      margin-top: 70px;
      padding-top: 30px;
      border-top: 1px solid #2a2a2a;
      animation: fadeIn 0.8s ease-out 0.4s both;
    }
    
    .footer-text {
      font-size: 14px;
      color: #a0a0a0;
      margin-bottom: 8px;
    }
    
    .footer-org {
      font-size: 13px;
      color: #a0a0a0;
      margin-bottom: 8px;
    }
    
    .footer-logo {
      font-size: 12px;
      color: #707070;
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 20px 60px rgba(220, 38, 38, 0.4);
      }
      50% {
        box-shadow: 0 20px 80px rgba(220, 38, 38, 0.6);
      }
    }
    
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      animation: fadeIn 0.3s ease-out;
    }
    
    .modal-content {
      background: #1a1a1a;
      margin: 10% auto;
      padding: 40px;
      border: 2px solid #2a2a2a;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      position: relative;
      animation: slideDown 0.3s ease-out;
    }
    
    .modal-close {
      position: absolute;
      right: 20px;
      top: 20px;
      font-size: 32px;
      font-weight: bold;
      color: #a0a0a0;
      cursor: pointer;
      transition: color 0.2s;
    }
    
    .modal-close:hover {
      color: #DC2626;
    }
    
    .modal-content h2 {
      color: #DC2626;
      margin-bottom: 20px;
      font-size: 24px;
    }
    
    .modal-desc {
      color: #ffffff;
      font-size: 16px;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .modal-question {
      color: #ffffff;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 30px;
    }
    
    .modal-input {
      width: 100%;
      padding: 16px 20px;
      background: #2a2a2a;
      border: 2px solid #3a3a3a;
      border-radius: 12px;
      color: #ffffff;
      font-size: 16px;
      margin-bottom: 20px;
      box-sizing: border-box;
    }
    
    .modal-input:focus {
      outline: none;
      border-color: #DC2626;
    }
    
    .modal-btn {
      width: 100%;
      padding: 16px;
      background: #DC2626;
      border: none;
      border-radius: 12px;
      color: #ffffff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .modal-btn:hover {
      background: #B91C1C;
    }
    
    .modal-buttons {
      display: flex;
      gap: 15px;
    }
    
    .modal-btn-yes {
      background: #DC2626;
    }
    
    .modal-btn-yes:hover {
      background: #B91C1C;
    }
    
    .modal-btn-no {
      background: #2a2a2a;
      border: 2px solid #3a3a3a;
    }
    
    .modal-btn-no:hover {
      background: #3a3a3a;
      border-color: #DC2626;
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @media (max-width: 768px) {
      h1 {
        font-size: 30px;
      }
      .subtitle {
        font-size: 16px;
      }
      .notice-section {
        padding: 24px;
      }
      .notice-grid {
        grid-template-columns: 1fr;
        gap: 18px;
      }
      .cards {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .card {
        padding: 30px 25px;
      }
      .card-title {
        font-size: 22px;
      }
      .modal-content {
        padding: 30px 20px;
        margin: 20% auto;
      }
      .modal-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <span class="logo-icon">ğŸ“</span>
      </div>
      <h1>2025 ë””ìì¸-ê¸°ìˆ  í˜‘ì—… ì „ì£¼ê¸°ì§€ì›</h1>
      <p class="subtitle">Design, collaborate with technology</p>
    </div>
    
    <section class="notice-section">
      <div class="notice-title">
        <span class="notice-tag">Notice</span>
        <span>ì‹ ì²­ ë° ì£¼ì˜ì‚¬í•­</span>
      </div>
      <div class="notice-grid">
        <div class="notice-card">
          <h3>ì‹ ì²­ ì „ ê¼­ í™•ì¸í•´ì£¼ì„¸ìš”</h3>
          <ul class="notice-list">
            <li>ìµœëŒ€ <span class="notice-emphasis">1ì¸ 2ë§¤</span>ê¹Œì§€ ì˜ˆë§¤ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>ë²ˆí˜¸ ë‹¹ 1ê°œì˜ ì…ì¥ QRì½”ë“œë§Œ ë°œê¸‰ë˜ë¯€ë¡œ <span class="notice-emphasis">2ë§¤ ì˜ˆë§¤ ì‹œ ê°ê°ì˜ ê°œì¸ì •ë³´</span>ê°€ í•„ìš”í•©ë‹ˆë‹¤.</li>
            <li>ì´ë¦„ ë“± ê°œì¸ì •ë³´ë¥¼ ê¼¼ê¼¼íˆ í™•ì¸í•˜ì—¬ ì •í™•íˆ ê¸°ì¬í•´ì£¼ì„¸ìš”.</li>
            <li>ì¢Œì„ì€ ì…ê¸ˆìˆœìœ¼ë¡œ ë°°ì •ë©ë‹ˆë‹¤. (ë¶€ì •í™•í•  ê²½ìš° ì˜ˆë§¤ê°€ ê±°ì ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤)</li>
            <li>ì…ê¸ˆê¸°í•œ ë‚´ì— ì‹ ì²­ìì™€ ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ ì…ê¸ˆí•´ì•¼ ì˜ˆì•½ì´ í™•ì •ë©ë‹ˆë‹¤.</li>
            <li>ì‹ ì²­ì¸ + ì „í™”ë²ˆí˜¸ ë’¤ ë„¤ ìë¦¬ ìˆ«ìë¥¼ ê¼­ ê¸°ì…í•´ì£¼ì„¸ìš”. <span class="notice-example">ì˜ˆ) í™ê¸¸ë™ 3747</span></li>
            <li>ë¬¸ì˜ì‚¬í•­ì€ í•˜ë‹¨ ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ì„ ì´ìš©í•´ì£¼ì„¸ìš”.</li>
          </ul>
        </div>
        <div class="notice-card">
          <h3>ì…ê¸ˆ ê³„ì¢Œ ì•ˆë‚´</h3>
          <div class="notice-account">
            <span>ì¹´ì¹´ì˜¤ë±…í¬</span>
            <strong>3333-3548-32957</strong>
            <small>ì˜ˆê¸ˆì£¼) ìƒ˜ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì¦ˆ</small>
          </div>
        </div>
      </div>
    </section>
    
    <div class="cards">
      <a href="#" class="card" onclick="openEmailModal('tech'); return false;">
        <div class="card-title">ê¸°ìˆ ê¸°ì—… ë§Œë‚˜ê¸°</div>
        <div class="card-desc">ì°¸ê°€ ê¸°ì—… ëª©ë¡</div>
      </a>
      
      <a href="#" class="card" onclick="openEmailModal('design'); return false;">
        <div class="card-title">ë””ìì¸ì „ë¬¸ê¸°ì—… ë§Œë‚˜ê¸°</div>
        <div class="card-desc">ì°¸ê°€ ê¸°ì—… ëª©ë¡</div>
      </a>
      
      <a href="floor-plan.html" class="card">
        <div class="card-title">ë§¤ì¹­ ê²°ê³¼ ë° ì¢Œì„ ë°°ì¹˜ í™•ì¸</div>
      </a>
    </div>
    
    <!-- ì´ë©”ì¼ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="emailModal" class="modal" style="display: none;">
      <div class="modal-content">
        <span class="modal-close" onclick="closeEmailModal()">&times;</span>
        <h2 id="modalTitle">ì´ë©”ì¼ ì¸ì¦</h2>
        <div id="emailInputSection">
          <p class="modal-desc">ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
          <input 
            type="email" 
            id="emailInput" 
            class="modal-input" 
            placeholder="ì´ë©”ì¼ ì£¼ì†Œ"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="none"
            spellcheck="false"
          />
          <button class="modal-btn" onclick="checkEmail()">í™•ì¸</button>
        </div>
        <div id="confirmSection" style="display: none;">
          <p class="modal-desc" id="companyNameText"></p>
          <p class="modal-question">ê°€ ë§ìŠµë‹ˆê¹Œ?</p>
          <div class="modal-buttons">
            <button class="modal-btn modal-btn-yes" onclick="confirmEmail()">ì˜ˆ</button>
            <button class="modal-btn modal-btn-no" onclick="resetEmailModal()">ì•„ë‹ˆì˜¤</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <p class="footer-text">2025 ë””ìì¸-ê¸°ìˆ  í˜‘ì—… ì „ì£¼ê¸°ì§€ì›</p>
      <p class="footer-org">ì£¼ìµœ: ì‚°ì—…í†µìƒë¶€, ì£¼ê´€: í•œêµ­ë””ìì¸ì§„í¥ì›, ìš´ì˜: MYSC</p>
      <p class="footer-logo">Powered by EpicStage</p>
    </div>
  </div>
  
  <script>
    const TECH_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTdxkwUoTKh5y5xLeMwerXez9IpL6_QEY09ipRULpS-R60XiiSVMWC3LEjgVzHU57_EjlIVvg1LfSw_/pub?output=csv';
    const DESIGN_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRH6aVLkutbRv8_gv9kSdHS62fmcYV6_sLBRjGoPQyHHahyWMBdEm7nLVLPlkrnGccKXB462N9ZgKyK/pub?output=csv';
    const READONLY_EMAILS = ['bgtree456@kidp.or.kr', 'pd@epicstage.co.kr'];
    
    let currentType = ''; // 'tech' or 'design'
    let techCompanies = [];
    let designCompanies = [];
    let foundCompany = null;
    let isReadOnlyAccess = false;
    
    // CSV ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
    async function loadCSVData() {
      try {
        // ê¸°ìˆ ê¸°ì—… ë°ì´í„° ë¡œë“œ
        const techRes = await fetch(TECH_CSV_URL);
        const techText = await techRes.text();
        techCompanies = parseCSV(techText);
        
        // ë””ìì¸ì „ë¬¸ê¸°ì—… ë°ì´í„° ë¡œë“œ
        const designRes = await fetch(DESIGN_CSV_URL);
        const designText = await designRes.text();
        designCompanies = parseCSV(designText);
      } catch (e) {
        console.error('CSV ë¡œë“œ ì˜¤ë¥˜:', e);
      }
    }
    
    // ê°„ë‹¨í•œ CSV íŒŒì‹±
    function parseCSV(text) {
      const lines = text.split(/\r?\n/).filter(line => line.trim());
      if (lines.length < 2) return [];
      
      const headers = parseCSVLine(lines[0]);
      const data = [];
      
      for (let i = 1; i < lines.length; i++) {
        const values = parseCSVLine(lines[i]);
        const row = {};
        headers.forEach((h, idx) => {
          row[h] = values[idx] || '';
        });
        if (row['ê¸°ì—…ëª…'] && row['ê¸°ì—…ëª…'].trim()) {
          data.push(row);
        }
      }
      
      return data;
    }
    
    function parseCSVLine(line) {
      const values = [];
      let current = '';
      let inQuotes = false;
      
      for (let i = 0; i < line.length; i++) {
        const char = line[i];
        const nextChar = line[i + 1];
        
        if (char === '"') {
          if (inQuotes && nextChar === '"') {
            current += '"';
            i++;
          } else {
            inQuotes = !inQuotes;
          }
        } else if (char === ',' && !inQuotes) {
          values.push(current.trim());
          current = '';
        } else {
          current += char;
        }
      }
      values.push(current.trim());
      return values;
    }
    
    function openEmailModal(type) {
      currentType = type;
      isReadOnlyAccess = false;
      const modal = document.getElementById('emailModal');
      const title = document.getElementById('modalTitle');
      title.textContent = type === 'tech' ? 'ê¸°ìˆ ê¸°ì—… ëª©ë¡ ì ‘ê·¼' : 'ë””ìì¸ì „ë¬¸ê¸°ì—… ëª©ë¡ ì ‘ê·¼';
      document.getElementById('emailInputSection').style.display = 'block';
      document.getElementById('confirmSection').style.display = 'none';
      document.getElementById('emailInput').value = '';
      modal.style.display = 'block';
      setTimeout(() => document.getElementById('emailInput').focus(), 100);
    }
    
    function closeEmailModal() {
      document.getElementById('emailModal').style.display = 'none';
    }
    
    function isReadOnlyEmail(email) {
      return READONLY_EMAILS.includes((email || '').toLowerCase());
    }

    async function checkEmail() {
      const email = document.getElementById('emailInput').value.trim().toLowerCase();
      
      if (!email) {
        alert('ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      if (isReadOnlyEmail(email)) {
        isReadOnlyAccess = true;
        foundCompany = { 'ê¸°ì—…ëª…': 'ëª©ë¡ ì¡°íšŒ ì „ìš© ê³„ì •' };
        document.getElementById('emailInputSection').style.display = 'none';
        document.getElementById('confirmSection').style.display = 'block';
        document.getElementById('companyNameText').textContent = 'ëª©ë¡ ì¡°íšŒ ì „ìš© ê³„ì •ì…ë‹ˆë‹¤.';
        return;
      }
      
      // CSV ë°ì´í„°ê°€ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¡œë“œ
      if (techCompanies.length === 0 || designCompanies.length === 0) {
        await loadCSVData();
      }
      
      // ê¸°ìˆ ê¸°ì—… ëª©ë¡ì„ ë³´ë ¤ë©´ ë””ìì¸ì „ë¬¸ê¸°ì—… CSVì—ì„œ ì´ë©”ì¼ ì°¾ê¸°
      // ë””ìì¸ì „ë¬¸ê¸°ì—… ëª©ë¡ì„ ë³´ë ¤ë©´ ê¸°ìˆ ê¸°ì—… CSVì—ì„œ ì´ë©”ì¼ ì°¾ê¸°
      const searchData = currentType === 'tech' ? designCompanies : techCompanies;
      foundCompany = searchData.find(company => {
        const userEmail = (company['ì‚¬ìš©ì ì´ë¦„'] || '').toLowerCase().trim();
        return userEmail === email;
      });
      
      if (foundCompany) {
        // í™•ì¸ ì„¹ì…˜ í‘œì‹œ
        document.getElementById('emailInputSection').style.display = 'none';
        document.getElementById('confirmSection').style.display = 'block';
        document.getElementById('companyNameText').textContent = foundCompany['ê¸°ì—…ëª…'] || email;
      } else {
        alert('ë“±ë¡ëœ ì´ë©”ì¼ ì£¼ì†Œê°€ ì•„ë‹™ë‹ˆë‹¤. ì´ë©”ì¼ ì£¼ì†Œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
      }
    }
    
    function confirmEmail() {
      if (foundCompany) {
        const email = document.getElementById('emailInput').value.trim();
        const url = currentType === 'tech' 
          ? `tech-companies.html?email=${encodeURIComponent(email)}${isReadOnlyAccess ? '&readonly=1' : ''}`
          : `design-companies.html?email=${encodeURIComponent(email)}${isReadOnlyAccess ? '&readonly=1' : ''}`;
        window.location.href = url;
      }
    }
    
    function resetEmailModal() {
      document.getElementById('emailInputSection').style.display = 'block';
      document.getElementById('confirmSection').style.display = 'none';
      document.getElementById('emailInput').value = '';
      foundCompany = null;
      isReadOnlyAccess = false;
    }
    
    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' || event.keyCode === 27) {
        const modal = document.getElementById('emailModal');
        if (modal.style.display === 'block') {
          closeEmailModal();
        }
      }
    });
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ CSV ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
    window.addEventListener('load', () => {
      loadCSVData();
      
      // Enter í‚¤ë¡œ í™•ì¸
      const emailInput = document.getElementById('emailInput');
      if (emailInput) {
        emailInput.addEventListener('keypress', function(event) {
          if (event.key === 'Enter') {
            checkEmail();
          }
        });
      }
    });
  </script>
</body>
</html>
