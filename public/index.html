<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>2025 ÎîîÏûêÏù∏-Í∏∞Ïà† ÌòëÏóÖ Ï†ÑÏ£ºÍ∏∞ÏßÄÏõê</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      color: #ffffff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      width: 100%;
      text-align: center;
    }
    
    .header {
      margin-bottom: 60px;
      animation: fadeInDown 0.8s ease-out;
    }
    
    .logo {
      width: 90px;
      height: 90px;
      margin: 0 auto 25px;
      background: linear-gradient(135deg, #DC2626, #EF4444);
      border-radius: 26px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 20px 60px rgba(220, 38, 38, 0.4);
      animation: pulse 2s ease-in-out infinite;
    }
    
    .logo-icon {
      font-size: 45px;
    }
    
    h1 {
      font-size: 38px;
      font-weight: 700;
      margin-bottom: 15px;
      background: linear-gradient(135deg, #DC2626, #ffffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      font-size: 19px;
      color: #a0a0a0;
      font-weight: 400;
      line-height: 1.6;
    }
    
    .notice-section {
      margin-top: 40px;
      padding: 30px;
      border-radius: 20px;
      border: 1px solid #2a2a2a;
      background: rgba(255, 255, 255, 0.02);
      text-align: left;
      animation: fadeIn 0.8s ease-out 0.1s both;
    }
    
    .notice-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 20px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
    }
    
    .notice-tag {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(220, 38, 38, 0.15);
      color: #F87171;
      font-size: 13px;
      font-weight: 600;
    }
    
    .notice-grid {
      display: grid;
      grid-template-columns: 1.4fr 0.8fr;
      gap: 25px;
    }
    
    .notice-card {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid #2a2a2a;
      border-radius: 16px;
      padding: 20px 24px;
    }
    
    .notice-card h3 {
      font-size: 16px;
      color: #FECACA;
      margin-bottom: 14px;
      letter-spacing: -0.01em;
    }
    
    .notice-list {
      list-style: none;
      color: #d4d4d4;
      font-size: 15px;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .notice-list li::before {
      content: "‚Ä¢";
      color: #F87171;
      margin-right: 8px;
    }
    
    .notice-emphasis {
      color: #ffffff;
      font-weight: 600;
    }
    
    .notice-example {
      display: inline-flex;
      padding: 6px 12px;
      background: rgba(248, 113, 113, 0.15);
      border-radius: 8px;
      color: #ffffff;
      font-size: 14px;
    }
    
    .notice-account {
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 16px;
      color: #ffffff;
    }
    
    .notice-account strong {
      font-size: 20px;
      letter-spacing: 0.04em;
    }
    
    .notice-account small {
      font-size: 14px;
      color: #a0a0a0;
    }
    
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 50px;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    
    .card {
      background: #1a1a1a;
      border: 2px solid #2a2a2a;
      border-radius: 20px;
      padding: 40px 30px;
      transition: all 0.3s ease;
      text-decoration: none;
      display: block;
    }
    
    .card:hover {
      border-color: #DC2626;
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(220, 38, 38, 0.3);
    }
    
    .card-icon {
      font-size: 60px;
      margin-bottom: 20px;
    }
    
    .card-title {
      font-size: 26px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 10px;
    }
    
    .card-desc {
      font-size: 15px;
      color: #a0a0a0;
      line-height: 1.5;
    }
    
    .footer {
      margin-top: 70px;
      padding-top: 30px;
      border-top: 1px solid #2a2a2a;
      animation: fadeIn 0.8s ease-out 0.4s both;
    }
    
    .footer-text {
      font-size: 14px;
      color: #a0a0a0;
      margin-bottom: 8px;
    }
    
    .footer-org {
      font-size: 13px;
      color: #a0a0a0;
      margin-bottom: 8px;
    }
    
    .footer-logo {
      font-size: 12px;
      color: #707070;
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 20px 60px rgba(220, 38, 38, 0.4);
      }
      50% {
        box-shadow: 0 20px 80px rgba(220, 38, 38, 0.6);
      }
    }
    
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      animation: fadeIn 0.3s ease-out;
    }
    
    .modal-content {
      background: #1a1a1a;
      margin: 10% auto;
      padding: 40px;
      border: 2px solid #2a2a2a;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      position: relative;
      animation: slideDown 0.3s ease-out;
    }
    
    .modal-close {
      position: absolute;
      right: 20px;
      top: 20px;
      font-size: 32px;
      font-weight: bold;
      color: #a0a0a0;
      cursor: pointer;
      transition: color 0.2s;
    }
    
    .modal-close:hover {
      color: #DC2626;
    }
    
    .modal-content h2 {
      color: #DC2626;
      margin-bottom: 20px;
      font-size: 24px;
    }
    
    .modal-desc {
      color: #ffffff;
      font-size: 16px;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .modal-question {
      color: #ffffff;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 30px;
    }
    
    .modal-input {
      width: 100%;
      padding: 16px 20px;
      background: #2a2a2a;
      border: 2px solid #3a3a3a;
      border-radius: 12px;
      color: #ffffff;
      font-size: 16px;
      margin-bottom: 20px;
      box-sizing: border-box;
    }
    
    .modal-input:focus {
      outline: none;
      border-color: #DC2626;
    }
    
    .modal-btn {
      width: 100%;
      padding: 16px;
      background: #DC2626;
      border: none;
      border-radius: 12px;
      color: #ffffff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .modal-btn:hover {
      background: #B91C1C;
    }
    
    .modal-buttons {
      display: flex;
      gap: 15px;
    }
    
    .modal-btn-yes {
      background: #DC2626;
    }
    
    .modal-btn-yes:hover {
      background: #B91C1C;
    }
    
    .modal-btn-no {
      background: #2a2a2a;
      border: 2px solid #3a3a3a;
    }
    
    .modal-btn-no:hover {
      background: #3a3a3a;
      border-color: #DC2626;
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @media (max-width: 768px) {
      h1 {
        font-size: 30px;
      }
      .subtitle {
        font-size: 16px;
      }
      .notice-section {
        padding: 24px;
      }
      .notice-grid {
        grid-template-columns: 1fr;
        gap: 18px;
      }
      .cards {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .card {
        padding: 30px 25px;
      }
      .card-title {
        font-size: 22px;
      }
      .modal-content {
        padding: 30px 20px;
        margin: 20% auto;
      }
      .modal-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <span class="logo-icon">üìç</span>
      </div>
      <h1>2025 ÎîîÏûêÏù∏-Í∏∞Ïà† ÌòëÏóÖ Ï†ÑÏ£ºÍ∏∞ÏßÄÏõê</h1>
      <p class="subtitle">Design, collaborate with technology</p>
    </div>
    
    <div class="cards">
      <a href="#" class="card" onclick="openEmailModal('tech'); return false;">
        <div class="card-title">Í∏∞Ïà†Í∏∞ÏóÖ ÎßåÎÇòÍ∏∞</div>
        <div class="card-desc">Ï∞∏Í∞Ä Í∏∞ÏóÖ Î™©Î°ù</div>
      </a>
      
      <a href="#" class="card" onclick="openEmailModal('design'); return false;">
        <div class="card-title">ÎîîÏûêÏù∏Ï†ÑÎ¨∏Í∏∞ÏóÖ ÎßåÎÇòÍ∏∞</div>
        <div class="card-desc">Ï∞∏Í∞Ä Í∏∞ÏóÖ Î™©Î°ù</div>
      </a>
      
      <a href="floor-plan.html" class="card">
        <div class="card-title">Îß§Ïπ≠ Í≤∞Í≥º Î∞è Ï¢åÏÑù Î∞∞Ïπò ÌôïÏù∏</div>
      </a>
    </div>
    
    <!-- Ïù¥Î©îÏùº ÏûÖÎ†• Î™®Îã¨ -->
    <div id="emailModal" class="modal" style="display: none;">
      <div class="modal-content">
        <span class="modal-close" onclick="closeEmailModal()">&times;</span>
        <h2 id="modalTitle">Ïù¥Î©îÏùº Ïù∏Ï¶ù</h2>
        <div id="emailInputSection">
          <p class="modal-desc">Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</p>
          <input 
            type="email" 
            id="emailInput" 
            class="modal-input" 
            placeholder="Ïù¥Î©îÏùº Ï£ºÏÜå"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="none"
            spellcheck="false"
          />
          <button class="modal-btn" onclick="checkEmail()">ÌôïÏù∏</button>
        </div>
        <div id="confirmSection" style="display: none;">
          <p class="modal-desc" id="companyNameText"></p>
          <p class="modal-question">Í∞Ä ÎßûÏäµÎãàÍπå?</p>
          <div class="modal-buttons">
            <button class="modal-btn modal-btn-yes" onclick="confirmEmail()">Ïòà</button>
            <button class="modal-btn modal-btn-no" onclick="resetEmailModal()">ÏïÑÎãàÏò§</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <p class="footer-text">2025 ÎîîÏûêÏù∏-Í∏∞Ïà† ÌòëÏóÖ Ï†ÑÏ£ºÍ∏∞ÏßÄÏõê</p>
      <p class="footer-org">Ï£ºÏµú: ÏÇ∞ÏóÖÌÜµÏÉÅÎ∂Ä, Ï£ºÍ¥Ä: ÌïúÍµ≠ÎîîÏûêÏù∏ÏßÑÌù•Ïõê, Ïö¥ÏòÅ: MYSC</p>
      <p class="footer-logo">Powered by EpicStage</p>
    </div>
  </div>
  
  <script>
    const TECH_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTdxkwUoTKh5y5xLeMwerXez9IpL6_QEY09ipRULpS-R60XiiSVMWC3LEjgVzHU57_EjlIVvg1LfSw_/pub?output=csv';
    const DESIGN_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRH6aVLkutbRv8_gv9kSdHS62fmcYV6_sLBRjGoPQyHHahyWMBdEm7nLVLPlkrnGccKXB462N9ZgKyK/pub?output=csv';
    const READONLY_EMAILS = ['bgtree456@kidp.or.kr', 'pd@epicstage.co.kr'];
    
    let currentType = ''; // 'tech' or 'design'
    let techCompanies = [];
    let designCompanies = [];
    let foundCompany = null;
    let isReadOnlyAccess = false;
    
    // CSV Îç∞Ïù¥ÌÑ∞ ÎØ∏Î¶¨ Î°úÎìú
    async function loadCSVData() {
      try {
        // Í∏∞Ïà†Í∏∞ÏóÖ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        const techRes = await fetch(TECH_CSV_URL);
        const techText = await techRes.text();
        techCompanies = parseCSV(techText);
        
        // ÎîîÏûêÏù∏Ï†ÑÎ¨∏Í∏∞ÏóÖ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        const designRes = await fetch(DESIGN_CSV_URL);
        const designText = await designRes.text();
        designCompanies = parseCSV(designText);
      } catch (e) {
        console.error('CSV Î°úÎìú Ïò§Î•ò:', e);
      }
    }
    
    // Í∞ÑÎã®Ìïú CSV ÌååÏã±
    function parseCSV(text) {
      const lines = text.split(/\r?\n/).filter(line => line.trim());
      if (lines.length < 2) return [];
      
      const headers = parseCSVLine(lines[0]);
      const data = [];
      
      for (let i = 1; i < lines.length; i++) {
        const values = parseCSVLine(lines[i]);
        const row = {};
        headers.forEach((h, idx) => {
          row[h] = values[idx] || '';
        });
        if (row['Í∏∞ÏóÖÎ™Ö'] && row['Í∏∞ÏóÖÎ™Ö'].trim()) {
          data.push(row);
        }
      }
      
      return data;
    }
    
    function parseCSVLine(line) {
      const values = [];
      let current = '';
      let inQuotes = false;
      
      for (let i = 0; i < line.length; i++) {
        const char = line[i];
        const nextChar = line[i + 1];
        
        if (char === '"') {
          if (inQuotes && nextChar === '"') {
            current += '"';
            i++;
          } else {
            inQuotes = !inQuotes;
          }
        } else if (char === ',' && !inQuotes) {
          values.push(current.trim());
          current = '';
        } else {
          current += char;
        }
      }
      values.push(current.trim());
      return values;
    }
    
    function openEmailModal(type) {
      currentType = type;
      isReadOnlyAccess = false;
      const modal = document.getElementById('emailModal');
      const title = document.getElementById('modalTitle');
      title.textContent = type === 'tech' ? 'Í∏∞Ïà†Í∏∞ÏóÖ Î™©Î°ù Ï†ëÍ∑º' : 'ÎîîÏûêÏù∏Ï†ÑÎ¨∏Í∏∞ÏóÖ Î™©Î°ù Ï†ëÍ∑º';
      document.getElementById('emailInputSection').style.display = 'block';
      document.getElementById('confirmSection').style.display = 'none';
      document.getElementById('emailInput').value = '';
      modal.style.display = 'block';
      setTimeout(() => document.getElementById('emailInput').focus(), 100);
    }
    
    function closeEmailModal() {
      document.getElementById('emailModal').style.display = 'none';
    }
    
    function isReadOnlyEmail(email) {
      return READONLY_EMAILS.includes((email || '').toLowerCase());
    }

    async function checkEmail() {
      const email = document.getElementById('emailInput').value.trim().toLowerCase();
      
      if (!email) {
        alert('Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
        return;
      }

      if (isReadOnlyEmail(email)) {
        isReadOnlyAccess = true;
        foundCompany = { 'Í∏∞ÏóÖÎ™Ö': 'Î™©Î°ù Ï°∞Ìöå Ï†ÑÏö© Í≥ÑÏ†ï' };
        document.getElementById('emailInputSection').style.display = 'none';
        document.getElementById('confirmSection').style.display = 'block';
        document.getElementById('companyNameText').textContent = 'Î™©Î°ù Ï°∞Ìöå Ï†ÑÏö© Í≥ÑÏ†ïÏûÖÎãàÎã§.';
        return;
      }
      
      // CSV Îç∞Ïù¥ÌÑ∞Í∞Ä ÏïÑÏßÅ Î°úÎìúÎêòÏßÄ ÏïäÏïòÎã§Î©¥ Î°úÎìú
      if (techCompanies.length === 0 || designCompanies.length === 0) {
        await loadCSVData();
      }
      
      // Í∏∞Ïà†Í∏∞ÏóÖ Î™©Î°ùÏùÑ Î≥¥Î†§Î©¥ ÎîîÏûêÏù∏Ï†ÑÎ¨∏Í∏∞ÏóÖ CSVÏóêÏÑú Ïù¥Î©îÏùº Ï∞æÍ∏∞
      // ÎîîÏûêÏù∏Ï†ÑÎ¨∏Í∏∞ÏóÖ Î™©Î°ùÏùÑ Î≥¥Î†§Î©¥ Í∏∞Ïà†Í∏∞ÏóÖ CSVÏóêÏÑú Ïù¥Î©îÏùº Ï∞æÍ∏∞
      const searchData = currentType === 'tech' ? designCompanies : techCompanies;
      foundCompany = searchData.find(company => {
        const userEmail = (company['ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ'] || '').toLowerCase().trim();
        return userEmail === email;
      });
      
      if (foundCompany) {
        // ÌôïÏù∏ ÏÑπÏÖò ÌëúÏãú
        document.getElementById('emailInputSection').style.display = 'none';
        document.getElementById('confirmSection').style.display = 'block';
        document.getElementById('companyNameText').textContent = foundCompany['Í∏∞ÏóÖÎ™Ö'] || email;
      } else {
        alert('Îì±Î°ùÎêú Ïù¥Î©îÏùº Ï£ºÏÜåÍ∞Ä ÏïÑÎãôÎãàÎã§. Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.');
      }
    }
    
    function confirmEmail() {
      if (foundCompany) {
        const email = document.getElementById('emailInput').value.trim();
        const url = currentType === 'tech' 
          ? `tech-companies.html?email=${encodeURIComponent(email)}${isReadOnlyAccess ? '&readonly=1' : ''}`
          : `design-companies.html?email=${encodeURIComponent(email)}${isReadOnlyAccess ? '&readonly=1' : ''}`;
        window.location.href = url;
      }
    }
    
    function resetEmailModal() {
      document.getElementById('emailInputSection').style.display = 'block';
      document.getElementById('confirmSection').style.display = 'none';
      document.getElementById('emailInput').value = '';
      foundCompany = null;
      isReadOnlyAccess = false;
    }
    
    // ESC ÌÇ§Î°ú Î™®Îã¨ Îã´Í∏∞
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' || event.keyCode === 27) {
        const modal = document.getElementById('emailModal');
        if (modal.style.display === 'block') {
          closeEmailModal();
        }
      }
    });
    
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú CSV Îç∞Ïù¥ÌÑ∞ ÎØ∏Î¶¨ Î°úÎìú
    window.addEventListener('load', () => {
      loadCSVData();
      
      // Enter ÌÇ§Î°ú ÌôïÏù∏
      const emailInput = document.getElementById('emailInput');
      if (emailInput) {
        emailInput.addEventListener('keypress', function(event) {
          if (event.key === 'Enter') {
            checkEmail();
          }
        });
      }
    });
  </script>
</body>
</html>
